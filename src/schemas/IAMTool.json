{
  "name": "IAMTool",
  "toolReferenceName": "IAMTool",
  "displayName": "IAM Tool",
  "modelDescription": "Execute AWS IAM commands including permission simulation. ALWAYS provide params object. Examples: GetRole {command:'GetRole', params:{RoleName:'my-role'}}. GetUser {command:'GetUser', params:{UserName:'john'}}. ListUsers {command:'ListUsers', params:{}}. SimulatePrincipalPolicy {command:'SimulatePrincipalPolicy', params:{PolicySourceArn:'arn:aws:iam::123:role/MyRole', ActionNames:['s3:GetObject'], ResourceArns:['arn:aws:s3:::bucket/*']}}. GetAccountSummary {command:'GetAccountSummary', params:{}}. ListAttachedRolePolicies {command:'ListAttachedRolePolicies', params:{RoleName:'my-role'}}.",
  "userDescription": "Inspect IAM roles, policies, users, groups, simulate permissions, and get account summary",
  "tags": [
    "aws",
    "iam",
    "roles",
    "policies"
  ],
  "icon": "$(shield)",
  "canBeReferencedInPrompt": true,
  "inputSchema": {
    "type": "object",
    "required": [
      "command",
      "params"
    ],
    "properties": {
      "command": {
        "type": "string",
        "enum": [
          "GenerateCredentialReport",
          "GetAccountPasswordPolicy",
          "GetAccountSummary",
          "GetCredentialReport",
          "GetPolicy",
          "GetPolicyVersion",
          "GetRole",
          "GetRolePolicy",
          "GetServiceLastAccessedDetails",
          "GetUser",
          "ListAccessKeys",
          "ListAttachedRolePolicies",
          "ListGroups",
          "ListMFADevices",
          "ListPolicies",
          "ListPolicyVersions",
          "ListRolePolicies",
          "ListRoles",
          "ListRoleTags",
          "ListUsers",
          "SimulatePrincipalPolicy"
        ],
        "description": "The IAM command to execute"
      },
      "params": {
        "type": "object",
        "description": "REQUIRED parameters object. Always include this even if empty. Provide RoleName/PolicyArn as needed.",
        "properties": {
          "RoleName": {
            "type": "string",
            "description": "Target IAM role name (Used by: GetRole (Required), GetRolePolicy (Required), ListAttachedRolePolicies (Required), ListRolePolicies (Required), ListRoleTags (Required))"
          },
          "PolicyName": {
            "type": "string",
            "description": "Inline policy name (Used by: GetRolePolicy (Required))"
          },
          "PathPrefix": {
            "type": "string",
            "description": "Path prefix filter (Used by: ListRoles, ListPolicies, ListAttachedRolePolicies)"
          },
          "Marker": {
            "type": "string",
            "description": "Pagination marker (Used by: ListRoles, ListPolicies, ListAttachedRolePolicies, ListRolePolicies, ListPolicyVersions)"
          },
          "MaxItems": {
            "type": "number",
            "description": "Maximum items to return (Used by: ListRoles, ListPolicies, ListAttachedRolePolicies, ListRolePolicies, ListPolicyVersions)"
          },
          "PolicyArn": {
            "type": "string",
            "description": "IAM policy ARN (Used by: GetPolicy (Required), GetPolicyVersion (Required), ListPolicyVersions (Required), ListAttachedRolePolicies (Required))"
          },
          "VersionId": {
            "type": "string",
            "description": "Policy version ID (Used by: GetPolicyVersion (Required))"
          },
          "Scope": {
            "type": "string",
            "enum": [
              "All",
              "AWS",
              "Local"
            ],
            "description": "Scope filter for ListPolicies (Used by: ListPolicies)"
          },
          "OnlyAttached": {
            "type": "boolean",
            "description": "Set true to list only attached policies (Used by: ListPolicies)"
          },
          "PolicyUsageFilter": {
            "type": "string",
            "enum": [
              "PermissionsPolicy",
              "PermissionsBoundary"
            ],
            "description": "Filter policies by usage (Used by: ListPolicies)"
          },
          "UserName": {
            "type": "string",
            "description": "IAM user name (Used by: GetUser, ListAccessKeys, ListMFADevices)"
          },
          "GroupName": {
            "type": "string",
            "description": "IAM group name (Used by: ListGroups)"
          },
          "PolicySourceArn": {
            "type": "string",
            "description": "ARN of IAM entity (user, group, role) whose policy to simulate (Used by: SimulatePrincipalPolicy (Required))"
          },
          "ActionNames": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "List of API action names to simulate (Used by: SimulatePrincipalPolicy (Required))"
          },
          "ResourceArns": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "List of resource ARNs to simulate policy against (Used by: SimulatePrincipalPolicy)"
          },
          "ResourcePolicy": {
            "type": "string",
            "description": "Resource-based policy JSON string (Used by: SimulatePrincipalPolicy)"
          },
          "ResourceOwner": {
            "type": "string",
            "description": "AWS account ID owning the resource (Used by: SimulatePrincipalPolicy)"
          },
          "CallerArn": {
            "type": "string",
            "description": "ARN of user making the request (Used by: SimulatePrincipalPolicy)"
          },
          "ContextEntries": {
            "type": "array",
            "items": {
              "type": "object"
            },
            "description": "Context keys and values for policy evaluation (Used by: SimulatePrincipalPolicy)"
          },
          "ResourceHandlingOption": {
            "type": "string",
            "description": "How to handle resource-based policies (Used by: SimulatePrincipalPolicy)"
          },
          "JobId": {
            "type": "string",
            "description": "Job ID from GenerateServiceLastAccessedDetails (Used by: GetServiceLastAccessedDetails (Required))"
          }
        }
      }
    }
  },
  "schemaVersion": "1.0",
  "deprecated": false,
  "addedInVersion": "1.0.0"
}